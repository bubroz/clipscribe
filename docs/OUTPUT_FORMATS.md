# Output Formats Guide

ClipScribe generates comprehensive structured output for each processed video. All outputs are saved in a timestamped directory with a machine-readable format.

## Directory Structure

```
output/
└── YYYYMMDD_platform_videoId/
    ├── transcript.txt          # Plain text transcript
    ├── transcript.json         # Full structured data
    ├── metadata.json           # Video metadata
    ├── entities.json           # Extracted entities
    ├── relationships.json      # Entity relationships
    ├── knowledge_graph.json    # Graph representation
    ├── knowledge_graph.gexf    # Gephi-compatible graph
    ├── facts.txt              # Key facts (up to 100)
    ├── chimera_format.json    # Chimera Researcher compatible
    └── manifest.json          # File index with checksums
```

## File Formats

### transcript.txt
Plain text transcript for easy reading and sharing.

### transcript.json
Complete structured data including:
- Full transcript with segments
- Metadata (title, URL, duration, etc.)
- Analysis results (summary, key points, entities)
- Processing information (cost, time, model used)
- Extraction statistics

**Enhanced in v2.3:**
- 30-50 key points for hour-long videos (was ~11)
- Direct LLM relationship extraction
- More comprehensive entity extraction

### metadata.json
Lightweight metadata file containing:
- Video information
- Processing details
- Statistics (word count, entity count, etc.)

### entities.json
Extracted entities with:
- Name, type, and confidence scores
- Properties and context
- Topics and key facts

**Types include:**
- PERSON, ORGANIZATION, LOCATION
- EVENT, WORK_OF_ART, PRODUCT
- Custom entities via GLiNER

### relationships.json
Semantic relationships between entities:
- Subject-predicate-object triples
- Confidence scores
- Context information

**Enhanced in v2.3:**
- Specific predicates (signed, announced, partnered with)
- Avoids generic terms (mentioned, discussed)
- LLM validation for accuracy

### knowledge_graph.json
Graph representation with:
- Nodes (entities)
- Edges (relationships)
- Graph statistics (density, components)
- Ready for visualization tools

### knowledge_graph.gexf
**NEW in v2.3** - Gephi-compatible graph file:
- GEXF format for direct import into Gephi
- Includes node colors by entity type
- Node sizes based on confidence
- Edge weights from relationship confidence
- Ready for advanced graph visualization

**To visualize in Gephi:**
1. Open Gephi (download from https://gephi.org)
2. File → Open → Select the .gexf file
3. Run Force Atlas 2 layout
4. Apply Modularity for community detection
5. Size nodes by Degree in Ranking panel

### facts.txt
Human-readable key facts extracted from:
- Entity relationships
- Key points from transcript
- High-confidence entity properties

**Enhanced in v2.3:**
- Up to 100 facts (was 20)
- Diverse fact types interleaved
- Higher quality extraction

### chimera_format.json
Compatible with Chimera Researcher ecosystem:
- Standardized format for knowledge integration
- Includes all extracted intelligence
- Ready for cross-platform analysis

**New in v2.3:**
- Generated by default
- Can be created from existing outputs using `convert_to_chimera.py`

### manifest.json
File inventory with:
- List of all generated files
- File sizes and formats
- MD5 checksums for verification
- Extraction statistics

## Example Output

```bash
# After processing a video:
output/20240315_youtube_dQw4w9WgXcQ/
├── transcript.txt (2.5 KB)
├── transcript.json (15.2 KB)
├── metadata.json (1.2 KB)
├── entities.json (8.4 KB)
├── relationships.json (12.1 KB)
├── knowledge_graph.json (18.5 KB)
├── knowledge_graph.gexf (22.1 KB)  # NEW - Gephi format
├── facts.txt (4.8 KB)
├── chimera_format.json (25.3 KB)
└── manifest.json (1.5 KB)
```

## Format Changes in v2.3

### Removed Formats
- **transcript.srt** - Subtitle format (removed as unnecessary for intelligence extraction)
- **transcript.vtt** - WebVTT format (removed as unnecessary for intelligence extraction)

### Added Formats
- **knowledge_graph.gexf** - Gephi-compatible graph visualization format

The removal of subtitle formats allows us to focus on intelligence extraction and analysis rather than video captioning. The addition of GEXF format enables powerful graph visualization in Gephi for understanding entity relationships.

## Converting Existing Outputs

If you have existing ClipScribe outputs without chimera_format.json:

```bash
python scripts/convert_to_chimera.py output/YYYYMMDD_platform_videoId
```

If you need to convert knowledge graphs to Gephi format:

```bash
python scripts/convert_to_gephi.py output/YYYYMMDD_platform_videoId/knowledge_graph.json
```

This will generate the .gexf file for Gephi visualization. 