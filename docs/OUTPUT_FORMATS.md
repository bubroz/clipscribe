# Output Formats Guide

ClipScribe generates comprehensive structured output for each processed video. All outputs are saved in a timestamped directory with a machine-readable format.

## Directory Structure

```
output/
â””â”€â”€ YYYYMMDD_platform_videoId/
    â”œâ”€â”€ transcript.txt          # Plain text transcript
    â”œâ”€â”€ transcript.json         # Full structured data
    â”œâ”€â”€ metadata.json           # Video metadata
    â”œâ”€â”€ entities.json           # Extracted entities
    â”œâ”€â”€ entities.csv            # Entities in CSV format (NEW in v2.5.1)
    â”œâ”€â”€ relationships.json      # Entity relationships
    â”œâ”€â”€ relationships.csv       # Relationships in CSV format (NEW in v2.5.1)
    â”œâ”€â”€ knowledge_graph.json    # Graph representation
    â”œâ”€â”€ knowledge_graph.gexf    # Gephi-compatible graph
    â”œâ”€â”€ facts.txt              # Key facts (up to 100)
    â”œâ”€â”€ report.md              # Markdown intelligence report (NEW in v2.5.1)
    â”œâ”€â”€ chimera_format.json    # Chimera Researcher compatible
    â””â”€â”€ manifest.json          # File index with checksums
```

## File Formats

### transcript.txt
Plain text transcript for easy reading and sharing.

### transcript.json
Complete structured data including:
- Full transcript with segments
- Metadata (title, URL, duration, etc.)
- Analysis results (summary, key points, entities)
- Processing information (cost, time, model used)
- Extraction statistics

**Enhanced in v2.3:**
- 30-50 key points for hour-long videos (was ~11)
- Direct LLM relationship extraction
- More comprehensive entity extraction

### metadata.json
Lightweight metadata file containing:
- Video information
- Processing details
- Statistics (word count, entity count, etc.)

### entities.json
Extracted entities with:
- Name, type, and confidence scores
- Properties and context
- Topics and key facts

**Types include:**
- PERSON, ORGANIZATION, LOCATION
- EVENT, WORK_OF_ART, PRODUCT
- Custom entities via GLiNER

### relationships.json
Semantic relationships between entities:
- Subject-predicate-object triples
- Confidence scores
- Context information

**Enhanced in v2.3:**
- Specific predicates (signed, announced, partnered with)
- Avoids generic terms (mentioned, discussed)
- LLM validation for accuracy

### knowledge_graph.json
Graph representation with:
- Nodes (entities)
- Edges (relationships)
- Graph statistics (density, components)
- Ready for visualization tools

### knowledge_graph.gexf
**NEW in v2.3** - Gephi-compatible graph file:
- GEXF format for direct import into Gephi
- Includes node colors by entity type
- Node sizes based on confidence
- Edge weights from relationship confidence
- Ready for advanced graph visualization

**To visualize in Gephi:**
1. Open Gephi (download from https://gephi.org)
2. File â†’ Open â†’ Select the .gexf file
3. Run Force Atlas 2 layout
4. Apply Modularity for community detection
5. Size nodes by Degree in Ranking panel

### facts.txt
Human-readable key facts extracted from:
- Entity relationships
- Key points from transcript
- High-confidence entity properties

**Enhanced in v2.3:**
- Up to 100 facts (was 20)
- Diverse fact types interleaved
- Higher quality extraction

### report.md
**NEW in v2.5.1** - Professional markdown intelligence report:
- Executive summary with key findings
- Cost indicator emojis (ðŸŸ¢ < $0.10, ðŸŸ¡ < $0.50, ðŸ”´ > $0.50)
- Key statistics table (word count, entities, relationships)
- Top entities organized by type with confidence scores
- Key relationships and facts
- Generated file index with descriptions
- Perfect for sharing insights with stakeholders

### chimera_format.json
Compatible with Chimera Researcher ecosystem:
- Standardized format for knowledge integration
- Includes all extracted intelligence
- Ready for cross-platform analysis

**New in v2.3:**
- Generated by default
- Can be created from existing outputs using `convert_to_chimera.py`

### manifest.json
File inventory with:
- List of all generated files
- File sizes and formats
- MD5 checksums for verification
- Extraction statistics

## Example Output

```bash
# After processing a video:
output/20240624_youtube_dQw4w9WgXcQ/
â”œâ”€â”€ transcript.txt (2.5 KB)
â”œâ”€â”€ transcript.json (15.2 KB)
â”œâ”€â”€ metadata.json (1.2 KB)
â”œâ”€â”€ entities.json (8.4 KB)
â”œâ”€â”€ entities.csv (3.2 KB)          # NEW in v2.5.1
â”œâ”€â”€ relationships.json (12.1 KB)
â”œâ”€â”€ relationships.csv (4.1 KB)     # NEW in v2.5.1
â”œâ”€â”€ knowledge_graph.json (18.5 KB)
â”œâ”€â”€ knowledge_graph.gexf (22.1 KB)
â”œâ”€â”€ facts.txt (4.8 KB)
â”œâ”€â”€ report.md (2.8 KB)             # NEW in v2.5.1
â”œâ”€â”€ chimera_format.json (25.3 KB)
â””â”€â”€ manifest.json (1.8 KB)
```

## Format Changes

### v2.5.1 Additions
- **entities.csv** - Spreadsheet-compatible entity export
- **relationships.csv** - Spreadsheet-compatible relationship export  
- **report.md** - Professional markdown intelligence report

### v2.3 Changes
- **Removed**: transcript.srt, transcript.vtt (subtitle formats)
- **Added**: knowledge_graph.gexf (Gephi graph format)

The addition of CSV formats enables easy data analysis in spreadsheet tools, while the markdown report provides a professional summary perfect for sharing insights.

## Converting Existing Outputs

If you have existing ClipScribe outputs without chimera_format.json:

```bash
python scripts/convert_to_chimera.py output/YYYYMMDD_platform_videoId
```

If you need to convert knowledge graphs to Gephi format:

```bash
python scripts/convert_to_gephi.py output/YYYYMMDD_platform_videoId/knowledge_graph.json
```

This will generate the .gexf file for Gephi visualization.
